<p-button 
  label="Market Filters" 
  class="text-white d-flex justify-content-between align-items-end" 
  (click)="visibleFilters = true" 
/>

<p-dialog 
  [(visible)]="visibleFilters" 
  [modal]="true" 
  [draggable]="true" 
  [closable]="false" 
  [baseZIndex]="10000" 
  [style]="{ width: '50rem' }"
>
  <ng-template pTemplate="header">
    <div class="d-flex justify-content-between align-items-center px-3 py-2 dialog-header">
      <span class="fw-bold">Market Filters</span>
      <button type="button" class="btn btn-sm text-white" (click)="visibleFilters = false">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </ng-template>

  <div class="p-3 dialog-body">
    <div class="d-flex justify-content-center">
      <button class="btn btn-light mb-3 fw-bold text-white border-0 reset-btn">
        Reset to Default
      </button>
    </div>

    <div class="d-flex text-center fw-bold mb-3">
      <div class="flex-fill">Column 1</div>
      <div class="flex-fill">Column 2</div>
      <div class="flex-fill">Column 3</div>
    </div>

    <div class="d-flex text-white">
      <div class="flex-fill toggle-col py-3 px-4 mx-2">
        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" [(ngModel)]="col1Master" (change)="toggleAll('col1')" />
          <label class="form-check-label ms-2">All</label>
        </div>
        <div class="form-check form-switch mb-3" *ngFor="let opt of col1Options; let i = index">
          <input class="form-check-input" type="checkbox" [(ngModel)]="opt.checked" />
          <label class="form-check-label ms-2">Option {{ i+1 }}</label>
        </div>
      </div>

      <div class="flex-fill toggle-col py-3 px-4 mx-2">
        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" [(ngModel)]="col2Master" (change)="toggleAll('col2')" />
          <label class="form-check-label ms-2">All</label>
        </div>
        <div class="form-check form-switch mb-3" *ngFor="let opt of col2Options; let i = index">
          <input class="form-check-input" type="checkbox" [(ngModel)]="opt.checked" />
          <label class="form-check-label ms-2">Filter {{ i+1 }}</label>
        </div>
      </div>

      <div class="flex-fill toggle-col py-3 px-4 mx-2">
        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" [(ngModel)]="col3Master" (change)="toggleAll('col3')" />
          <label class="form-check-label ms-2">All</label>
        </div>
        <div class="form-check form-switch mb-3" *ngFor="let opt of col3Options; let i = index">
          <input class="form-check-input" type="checkbox" [(ngModel)]="opt.checked" />
          <label class="form-check-label ms-2">Setting {{ i+1 }}</label>
        </div>
      </div>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="flex justify-end gap-2">
      <p-button label="Cancel" class="p-button-secondary" (click)="visibleFilters = false" />
      <p-button label="Apply" severity="primary" />
    </div>
  </ng-template>
</p-dialog>
